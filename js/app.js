function buildTown(e,t){for(var e=document.querySelector(e),n=document.querySelectorAll(t),i=t.length,s=[],c=n.length;c--;s.unshift(n[c]));for(var c=0;c<s.length;c++)s[c].addEventListener("click",function(){var t=this;if(t.classList.contains("is-active")===!1){var n=t.getAttribute("class").substr(8).slice(0,-i),s=e.querySelector("."+n);t.classList.add("is-active"),s.style.display="block"}else if(t.classList.contains("is-active")===!0){var n=t.getAttribute("class").substr(8).slice(0,-(10+i)),s=e.querySelector("."+n);t.classList.remove("is-active"),s.style.display="none"}})}function savePicture(e,t){var n=document.querySelector(e);document.querySelector(t).addEventListener("click",function(){domtoimage.toPng(n).then(function(e){var t=document.createElement("a");t.download="my-image-name.jpeg",t.href=e,t.click()})["catch"](function(e){console.error("oops, something went wrong!",e)})})}buildTown(".b-empire",".b-build--empire"),buildTown(".b-undead",".b-build--undead"),buildTown(".b-clans",".b-build--clans"),buildTown(".b-legions",".b-build--legions"),savePicture(".b-empire",".b-btn--save-empire"),savePicture(".b-undead",".b-btn--save-undead"),savePicture(".b-clans",".b-btn--save-clans"),savePicture(".b-legions",".b-btn--save-legions");