{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/js/modules/tabs.js","webpack:///./src/js/modules/toggleByDataAttr.js","webpack:///./node_modules/html-to-image/es/util.js","webpack:///./node_modules/html-to-image/es/clonePseudoElements.js","webpack:///./node_modules/html-to-image/es/cloneNode.js","webpack:///./node_modules/html-to-image/es/getBlobFromURL.js","webpack:///./node_modules/html-to-image/es/embedResources.js","webpack:///./node_modules/html-to-image/es/embedImages.js","webpack:///./node_modules/html-to-image/es/embedWebFonts.js","webpack:///./node_modules/html-to-image/es/createSvgDataURL.js","webpack:///./node_modules/html-to-image/es/index.js","webpack:///./node_modules/html-to-image/es/applyStyleWithOptions.js","webpack:///./src/js/modules/image-saver.js","webpack:///./src/js/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","factory","lazySizes","document","Date","lazysizes","lazySizesCfg","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","fastLoadedClass","iframeLoadMode","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","docElem","documentElement","supportPicture","HTMLPictureElement","addEventListener","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","forEach","Array","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","fn","add","action","evt","triggerEvent","elem","detail","noBubbles","noCancelable","event","createEvent","instance","initEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","src","reevaluate","elements","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","_lazysizesWidth","parentNode","rAF","firstFns","secondFns","fns","run","runFns","length","running","waiting","shift","rafBatch","queue","apply","this","arguments","push","hidden","_lsFlush","rAFIt","simple","that","args","debounce","func","timeout","timestamp","later","last","now","loader","regImg","regIframe","supportScroll","navigator","userAgent","currentExpand","isLoading","lowRuns","resetPreloading","e","target","isVisible","isBodyHidden","body","isNestedVisible","elemExpand","outerRect","visible","eLtop","eLbottom","eLleft","eLright","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","clientHeight","clientWidth","_defEx","eLvW","innerWidth","elvH","innerHeight","isCompleted","preloadElems","preloadAfterLoad","throttledCheckElements","lastTime","gDelay","rICTimeout","idleCallback","isPriority","delay","throttle","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","resetPreloadingTimer","getElementsByTagName","getAttribute","contentWindow","location","changeIframeSrc","isLoaded","complete","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","onload","started","_","persisted","loadingElements","querySelectorAll","img","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","_aLSL","sizeElement","sources","len","dataAttr","getSizeElement","debouncedUpdateElementsSizes","autosizesElems","uP","aC","rC","hC","fire","gW","a","b","XMLHttpRequest","open","responseType","g","response","onerror","console","error","send","status","MouseEvent","initMouseEvent","f","self","global","saveAs","HTMLAnchorElement","h","URL","webkitURL","j","createElement","download","rel","href","origin","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","type","Blob","title","innerText","HTMLElement","safari","FileReader","k","onloadend","result","readAsDataURL","Function","tabs","menuElements","change","classList","remove","id","getElementById","clear","currentTarget","bindAll","toggleByDataAttr","button","dataset","toggle","toggleElement","querySelector","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","WOFF","mimes","woff","woff2","ttf","eot","png","jpg","jpeg","gif","tiff","svg","uuid","counter","Math","random","pow","toString","slice","getMimeType","url","ext","match","exec","getExtension","toLowerCase","isDataUrl","search","toDataURL","content","mimeType","getDataURLContent","dataURL","split","toArray","arrayLike","px","node","styleProperty","val","getPropertyValue","parseFloat","getPixelRatio","ratio","FINAL_PROCESS","process","env","devicePixelRatio","parseInt","isNaN","createImage","image","Image","crossOrigin","clonePseudoElement","nativeNode","clonedNode","pseudo","className","err","styleElement","appendChild","selector","cssText","formatCssText","map","getPropertyPriority","join","formatCssProperties","createTextNode","getPseudoElementStyle","cloneSingleNode","HTMLCanvasElement","cloneNode","decorate","Element","setProperty","cloneCssStyle","clonePseudoElements","HTMLTextAreaElement","innerHTML","HTMLInputElement","cloneInputValue","filter","isRoot","children","childNodes","reduce","child","clonedChild","cloneChildren","cache","getBlobFromURL","options","cacheBust","getTime","promise","fetch","res","rej","blob","contentType","headers","reader","catch","req","onreadystatechange","Error","encoder","getResponseHeader","ontimeout","reason","placeholder","imagePlaceholder","parts","msg","message","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","shouldEmbed","string","embedResources","cssString","baseUrl","filteredCssString","str","preferredFontFormat","format","filterPreferredFontFormat","parseURLs","urls","ret","resourceURL","baseURL","resolvedURL","protocol","doc","implementation","createHTMLDocument","base","head","resolveUrl","data","raw","quotation","embedImages","background","embedBackground","HTMLImageElement","embedImageNode","deferreds","all","embedChildren","cssFetchPromiseStore","parseWebFontRules","ownerDocument","styleSheets","promises","sheet","cssRules","item","index","CSSRule","IMPORT_RULE","importIndex","fetchCSS","embedFonts","parseCSS","rule","insertRule","startsWith","log","inline","find","getCssRules","getWebFontRules","getWebFontCss","rules","parentStyleSheet","cssStrings","FONT_FACE_RULE","undefined","css","importRegex","keyframesRegex","arr","unified","lastIndex","text","resolved","regexUrlFind","fontLoadedPromises","createSvgDataURL","height","xmlns","createElementNS","foreignObject","setAttributeNS","XMLSerializer","serializeToString","encodeURIComponent","html","svgToDataURL","getImageSize","domNode","leftBorder","rightBorder","scrollWidth","getNodeWidth","topBorder","bottomBorder","scrollHeight","getNodeHeight","toSvg","fontEmbedCss","styleNode","sytleContent","firstChild","insertBefore","embedWebFonts","backgroundColor","manual","keys","applyStyleWithOptions","toCanvas","ms","canvas","context","getContext","pixelRatio","canvasWidth","canvasHeight","fillStyle","fillRect","drawImage","saveImage","buttonClass","quality","htmlToImage","dataUrl","link","click","townNode","savePictureButton","townData","town"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, \n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) { // Pass in the window Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes,\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tlazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tfastLoadedClass: 'ls-is-cached',\n\t\t\tiframeLoadMode: 0,\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\t/**\n\t\t\t * @type { LazySizesConfigPartial }\n\t\t\t */\n\t\t\tcfg: lazySizesCfg,\n\t\t\t/**\n\t\t\t * @type { true }\n\t\t\t */\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\t/**\n\t * @param elem { Element }\n\t * @param name { string }\n\t * @param detail { any }\n\t * @param noBubbles { boolean }\n\t * @param noCancelable { boolean }\n\t * @returns { CustomEvent }\n\t */\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\t/**\n\t *\n\t * @param elem { Element }\n\t * @param parent { Element }\n\t * @param [width] {number}\n\t * @returns {number}\n\t */\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\tvar loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode;\n\n\t\t\t// loadMode can be also a string!\n\t\t\tif (loadMode == 0) {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} else if (loadMode == 1) {\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.fastLoadedClass);\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\t/**\n\t\t *\n\t\t * @param elem { Element }\n\t\t */\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t *\n\t\t * @param elem {Element}\n\t\t * @param dataAttr\n\t\t * @param [width] { number }\n\t\t */\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export const tabs = () => {\n  const menuElements = document.querySelectorAll(\"[data-tab]\");\n\n  const clear = () => {\n    for (let i = 0; i < menuElements.length; i++) {\n      menuElements[i].classList.remove(\"is-active\");\n      const id = menuElements[i].getAttribute(\"data-tab\");\n      document.getElementById(id).classList.remove(\"is-active\");\n    }\n  };\n\n  const change = (event) => {\n    clear();\n    event.target.classList.add(\"is-active\");\n    const id = event.currentTarget.getAttribute(\"data-tab\");\n    document.getElementById(id).classList.add(\"is-active\");\n  };\n\n  const bindAll = () => {\n    for (let i = 0; i < menuElements.length; i += 1) {\n      menuElements[i].addEventListener(\"click\", change, false);\n    }\n  };\n\n  bindAll();\n};\n\nexport default tabs;\n","export const toggleByDataAttr = () => {\n  const toggleButtons = document.querySelectorAll(\"[data-toggle]\");\n\n  toggleButtons.forEach((button) => {\n    button.addEventListener(\"click\", function () {\n      const self = this;\n      const dataAttr = self.dataset.toggle;\n      const toggleElement = document.querySelector(`.${dataAttr}`);\n\n      self.classList.toggle(\"is-active\");\n      toggleElement.classList.toggle(\"is-active\");\n    });\n  });\n};\n\nexport default toggleByDataAttr;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst WOFF = 'application/font-woff';\nconst JPEG = 'image/jpeg';\nconst mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n};\nexport const uuid = (function uuid() {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    let counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    const random = () => `0000${((Math.random() * Math.pow(36, 4)) << 0).toString(36)}`.slice(-4);\n    return () => {\n        counter += 1;\n        return `u${random()}${counter}`;\n    };\n})();\nexport function getExtension(url) {\n    const match = /\\.([^./]*?)$/g.exec(url);\n    return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n    const ext = getExtension(url).toLowerCase();\n    return mimes[ext] || '';\n}\nexport function delay(ms) {\n    return (args) => new Promise((resolve) => {\n        setTimeout(() => {\n            resolve(args);\n        }, ms);\n    });\n}\nexport function isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexport function toDataURL(content, mimeType) {\n    return `data:${mimeType};base64,${content}`;\n}\nexport function getDataURLContent(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nfunction toBlob(canvas) {\n    return new Promise((resolve) => {\n        const binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n        const len = binaryString.length;\n        const binaryArray = new Uint8Array(len);\n        for (let i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], { type: 'image/png' }));\n    });\n}\nexport function canvasToBlob(canvas) {\n    if (canvas.toBlob) {\n        return new Promise((resolve) => canvas.toBlob(resolve));\n    }\n    return toBlob(canvas);\n}\nexport function toArray(arrayLike) {\n    const result = [];\n    for (let i = 0, l = arrayLike.length; i < l; i += 1) {\n        result.push(arrayLike[i]);\n    }\n    return result;\n}\nfunction px(node, styleProperty) {\n    const val = window.getComputedStyle(node).getPropertyValue(styleProperty);\n    return parseFloat(val.replace('px', ''));\n}\nexport function getNodeWidth(node) {\n    const leftBorder = px(node, 'border-left-width');\n    const rightBorder = px(node, 'border-right-width');\n    return node.scrollWidth + leftBorder + rightBorder;\n}\nexport function getNodeHeight(node) {\n    const topBorder = px(node, 'border-top-width');\n    const bottomBorder = px(node, 'border-bottom-width');\n    return node.scrollHeight + topBorder + bottomBorder;\n}\nexport function getPixelRatio() {\n    let ratio;\n    let FINAL_PROCESS;\n    try {\n        FINAL_PROCESS = process;\n    }\n    catch (e) { }\n    const val = FINAL_PROCESS && FINAL_PROCESS.env\n        ? FINAL_PROCESS.env.devicePixelRatio\n        : null;\n    if (val) {\n        ratio = parseInt(val, 10);\n        if (isNaN(ratio)) {\n            ratio = 1;\n        }\n    }\n    return ratio || window.devicePixelRatio || 1;\n}\nexport function createImage(url) {\n    return new Promise((resolve, reject) => {\n        const image = new Image();\n        image.onload = () => resolve(image);\n        image.onerror = reject;\n        image.crossOrigin = 'anonymous';\n        image.src = url;\n    });\n}\nexport function svgToDataURL(svg) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return Promise.resolve()\n            .then(() => new XMLSerializer().serializeToString(svg))\n            .then(encodeURIComponent)\n            .then((html) => `data:image/svg+xml;charset=utf-8,${html}`);\n    });\n}\nexport function getBlobFromImageURL(url) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return createImage(url).then((image) => {\n            const { width, height } = image;\n            const canvas = document.createElement('canvas');\n            const context = canvas.getContext('2d');\n            const ratio = getPixelRatio();\n            canvas.width = width * ratio;\n            canvas.height = height * ratio;\n            canvas.style.width = `${width}`;\n            canvas.style.height = `${height}`;\n            context.scale(ratio, ratio);\n            context.drawImage(image, 0, 0);\n            const dataURL = canvas.toDataURL(getMimeType(url));\n            return getDataURLContent(dataURL);\n        });\n    });\n}\n//# sourceMappingURL=util.js.map","import { uuid, toArray } from './util';\nexport function clonePseudoElements(nativeNode, clonedNode) {\n    const pseudos = [':before', ':after'];\n    pseudos.forEach((pseudo) => Pseudo.clonePseudoElement(nativeNode, clonedNode, pseudo));\n}\nvar Pseudo;\n(function (Pseudo) {\n    function clonePseudoElement(nativeNode, clonedNode, pseudo) {\n        const style = window.getComputedStyle(nativeNode, pseudo);\n        const content = style.getPropertyValue('content');\n        if (content === '' || content === 'none') {\n            return;\n        }\n        const className = uuid();\n        // fix: Cannot assign to read only property 'className' of object '#<…\n        try {\n            clonedNode.className = `${clonedNode.className} ${className}`;\n        }\n        catch (err) {\n            return;\n        }\n        const styleElement = document.createElement('style');\n        styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n        clonedNode.appendChild(styleElement);\n    }\n    Pseudo.clonePseudoElement = clonePseudoElement;\n    function getPseudoElementStyle(className, pseudo, style) {\n        const selector = `.${className}:${pseudo}`;\n        const cssText = style.cssText\n            ? formatCssText(style)\n            : formatCssProperties(style);\n        return document.createTextNode(`${selector}{${cssText}}`);\n    }\n    function formatCssText(style) {\n        const content = style.getPropertyValue('content');\n        return `${style.cssText} content: ${content};`;\n    }\n    function formatCssProperties(style) {\n        return toArray(style)\n            .map((name) => {\n            const value = style.getPropertyValue(name);\n            const priority = style.getPropertyPriority(name);\n            return `${name}: ${value}${priority ? ' !important' : ''};`;\n        })\n            .join(' ');\n    }\n})(Pseudo || (Pseudo = {}));\n//# sourceMappingURL=clonePseudoElements.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { clonePseudoElements } from './clonePseudoElements';\nimport { createImage, toArray } from './util';\nfunction cloneSingleNode(node) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (node instanceof HTMLCanvasElement) {\n            const dataURL = node.toDataURL();\n            if (dataURL === 'data:,') {\n                return Promise.resolve(node.cloneNode(false));\n            }\n            return createImage(dataURL);\n        }\n        // if (node.tagName && node.tagName.toLowerCase() === 'svg') {\n        //   return Promise.resolve(node as SVGElement)\n        //     .then((svg) => svgToDataURL(svg))\n        //     .then(createImage)\n        // }\n        return Promise.resolve(node.cloneNode(false));\n    });\n}\nfunction cloneChildren(nativeNode, clonedNode, filter) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const children = toArray(nativeNode.childNodes);\n        if (children.length === 0) {\n            return Promise.resolve(clonedNode);\n        }\n        return children\n            .reduce((done, child) => done\n            .then(() => cloneNode(child, filter))\n            .then((clonedChild) => {\n            if (clonedChild) {\n                clonedNode.appendChild(clonedChild);\n            }\n        }), Promise.resolve())\n            .then(() => clonedNode);\n    });\n}\nfunction decorate(nativeNode, clonedNode) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!(clonedNode instanceof Element)) {\n            return clonedNode;\n        }\n        return Promise.resolve()\n            .then(() => cloneCssStyle(nativeNode, clonedNode))\n            .then(() => clonePseudoElements(nativeNode, clonedNode))\n            .then(() => cloneInputValue(nativeNode, clonedNode))\n            .then(() => clonedNode);\n    });\n}\nfunction cloneCssStyle(nativeNode, clonedNode) {\n    const source = window.getComputedStyle(nativeNode);\n    const target = clonedNode.style;\n    if (source.cssText) {\n        target.cssText = source.cssText;\n    }\n    else {\n        toArray(source).forEach((name) => {\n            target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (nativeNode instanceof HTMLTextAreaElement) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (nativeNode instanceof HTMLInputElement) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nexport function cloneNode(nativeNode, filter, isRoot) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!isRoot && filter && !filter(nativeNode)) {\n            return Promise.resolve(null);\n        }\n        return Promise.resolve(nativeNode)\n            .then(cloneSingleNode)\n            .then((clonedNode) => cloneChildren(nativeNode, clonedNode, filter))\n            .then((clonedNode) => decorate(nativeNode, clonedNode));\n    });\n}\n//# sourceMappingURL=cloneNode.js.map","/* tslint:disable:max-line-length */\nimport { getDataURLContent } from './util';\n// KNOWN ISSUE\n// -----------\n// Can not handle redirect-url, such as when access 'http://something.com/avatar.png'\n// will redirect to 'http://something.com/65fc2ffcc8aea7ba65a1d1feda173540'\nconst TIMEOUT = 30000;\nconst cache = {};\nfunction isFont(filename) {\n    return /ttf|otf|eot|woff2?/i.test(filename);\n}\nexport function getBlobFromURL(url, options) {\n    let href = url.replace(/\\?.*/, '');\n    if (isFont(href)) {\n        href = href.replace(/.*\\//, '');\n    }\n    if (cache[href]) {\n        return cache[href];\n    }\n    // cache bypass so we dont have CORS issues with cached images\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        // tslint:disable-next-line\n        url += (/\\?/.test(url) ? '&' : '?') + new Date().getTime();\n    }\n    const failed = (reason) => {\n        let placeholder = '';\n        if (options.imagePlaceholder) {\n            const parts = options.imagePlaceholder.split(/,/);\n            if (parts && parts[1]) {\n                placeholder = parts[1];\n            }\n        }\n        let msg = `Failed to fetch resource: ${url}`;\n        if (reason) {\n            msg = typeof reason === 'string' ? reason : reason.message;\n        }\n        if (msg) {\n            console.error(msg);\n        }\n        return placeholder;\n    };\n    const deferred = window.fetch\n        ? window\n            .fetch(url)\n            .then((response) => {\n            return new Promise((res, rej) => {\n                response.blob().then((blob) => {\n                    res({\n                        blob,\n                        contentType: response.headers.get('Content-Type'),\n                    });\n                });\n            });\n        })\n            .then(({ blob, contentType }) => new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onloadend = () => resolve({\n                contentType,\n                blob: reader.result,\n            });\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        }))\n            .then(({ blob, contentType }) => ({\n            contentType,\n            blob: getDataURLContent(blob),\n        }))\n            .catch(() => new Promise((resolve, reject) => reject()))\n        : new Promise((resolve, reject) => {\n            const req = new XMLHttpRequest();\n            const timeout = () => {\n                reject(new Error(`Timeout of ${TIMEOUT}ms occured while fetching resource: ${url}`));\n            };\n            const done = () => {\n                if (req.readyState !== 4) {\n                    return;\n                }\n                if (req.status !== 200) {\n                    reject(new Error(`Failed to fetch resource: ${url}, status: ${req.status}`));\n                    return;\n                }\n                const encoder = new FileReader();\n                encoder.onloadend = () => {\n                    resolve({\n                        blob: getDataURLContent(encoder.result),\n                        contentType: req.getResponseHeader('Content-Type') || '',\n                    });\n                };\n                encoder.readAsDataURL(req.response);\n            };\n            req.onreadystatechange = done;\n            req.ontimeout = timeout;\n            req.responseType = 'blob';\n            req.timeout = TIMEOUT;\n            req.open('GET', url, true);\n            req.send();\n        });\n    const promise = deferred.catch(failed);\n    cache[href] = promise;\n    return promise;\n}\n//# sourceMappingURL=getBlobFromURL.js.map","import { getBlobFromURL } from './getBlobFromURL';\nimport { isDataUrl, toDataURL, getMimeType } from './util';\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"'])([^\"']+)\\1\\)/g;\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nexport function shouldEmbed(string) {\n    return string.search(URL_REGEX) !== -1;\n}\nexport function embedResources(cssString, baseUrl, options) {\n    if (!shouldEmbed(cssString)) {\n        return Promise.resolve(cssString);\n    }\n    const filteredCssString = filterPreferredFontFormat(cssString, options);\n    return Promise.resolve(filteredCssString)\n        .then(parseURLs)\n        .then((urls) => urls.reduce((done, url) => done.then((ret) => embed(ret, url, baseUrl, options)), Promise.resolve(filteredCssString)));\n}\nexport function filterPreferredFontFormat(str, { preferredFontFormat }) {\n    return !preferredFontFormat\n        ? str\n        : str.replace(FONT_SRC_REGEX, (match) => {\n            while (true) {\n                const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || [];\n                if (!format) {\n                    return '';\n                }\n                if (format === preferredFontFormat) {\n                    return `src: ${src};`;\n                }\n            }\n        });\n}\nexport function parseURLs(str) {\n    const result = [];\n    str.replace(URL_REGEX, (raw, quotation, url) => {\n        result.push(url);\n        return raw;\n    });\n    return result.filter((url) => !isDataUrl(url));\n}\nexport function embed(cssString, resourceURL, baseURL, options, get) {\n    const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n    return Promise.resolve(resolvedURL)\n        .then((url) => get ? get(url) : getBlobFromURL(url, options))\n        .then((data) => {\n        if (typeof data === 'string') {\n            return toDataURL(data, getMimeType(resourceURL));\n        }\n        return toDataURL(data.blob, getMimeType(resourceURL) || data.contentType);\n    })\n        .then((dataURL) => cssString.replace(urlToRegex(resourceURL), `$1${dataURL}$3`))\n        .then((content) => content, () => resolvedURL);\n}\nfunction resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    const doc = document.implementation.createHTMLDocument();\n    const base = doc.createElement('base');\n    const a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nfunction urlToRegex(url) {\n    return new RegExp(`(url\\\\(['\"]?)(${escape(url)})(['\"]?\\\\))`, 'g');\n}\nfunction escape(url) {\n    return url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n}\n//# sourceMappingURL=embedResources.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { getBlobFromURL } from './getBlobFromURL';\nimport { embedResources } from './embedResources';\nimport { toArray, isDataUrl, toDataURL, getMimeType } from './util';\nexport function embedImages(clonedNode, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!(clonedNode instanceof Element)) {\n            return Promise.resolve(clonedNode);\n        }\n        return Promise.resolve(clonedNode)\n            .then((node) => embedBackground(node, options))\n            .then((node) => embedImageNode(node, options))\n            .then((node) => embedChildren(node, options));\n    });\n}\nfunction embedBackground(clonedNode, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const background = clonedNode.style.getPropertyValue('background');\n        if (!background) {\n            return Promise.resolve(clonedNode);\n        }\n        return Promise.resolve(background)\n            .then((cssString) => embedResources(cssString, null, options))\n            .then((cssString) => {\n            clonedNode.style.setProperty('background', cssString, clonedNode.style.getPropertyPriority('background'));\n            return clonedNode;\n        });\n    });\n}\nfunction embedImageNode(clonedNode, options) {\n    if (!(clonedNode instanceof HTMLImageElement) || isDataUrl(clonedNode.src)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode.src)\n        .then((url) => getBlobFromURL(url, options))\n        .then((data) => toDataURL(data.blob, getMimeType(clonedNode.src) || data.contentType))\n        .then((dataURL) => new Promise((resolve, reject) => {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        clonedNode.src = dataURL;\n    }))\n        .then(() => clonedNode, () => clonedNode);\n}\nfunction embedChildren(clonedNode, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const children = toArray(clonedNode.childNodes);\n        const deferreds = children.map((child) => embedImages(child, options));\n        return Promise.all(deferreds).then(() => clonedNode);\n    });\n}\n//# sourceMappingURL=embedImages.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { toArray } from './util';\nimport { shouldEmbed, embedResources } from './embedResources';\nconst cssFetchPromiseStore = {};\nexport function parseWebFontRules(clonedNode) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            if (!clonedNode.ownerDocument) {\n                reject(new Error('Provided element is not within a Document'));\n            }\n            resolve(toArray(clonedNode.ownerDocument.styleSheets));\n        })\n            .then((styleSheets) => getCssRules(styleSheets))\n            .then(getWebFontRules);\n    });\n}\nexport function embedWebFonts(clonedNode, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return (options.fontEmbedCss != null\n            ? Promise.resolve(options.fontEmbedCss)\n            : getWebFontCss(clonedNode, options)).then((cssString) => {\n            const styleNode = document.createElement('style');\n            const sytleContent = document.createTextNode(cssString);\n            styleNode.appendChild(sytleContent);\n            if (clonedNode.firstChild) {\n                clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n            }\n            else {\n                clonedNode.appendChild(styleNode);\n            }\n            return clonedNode;\n        });\n    });\n}\nexport function getWebFontCss(node, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return parseWebFontRules(node)\n            .then((rules) => Promise.all(rules.map((rule) => {\n            const baseUrl = rule.parentStyleSheet\n                ? rule.parentStyleSheet.href\n                : null;\n            return embedResources(rule.cssText, baseUrl, options);\n        })))\n            .then((cssStrings) => cssStrings.join('\\n'));\n    });\n}\nexport function getCssRules(styleSheets) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const ret = [];\n        const promises = [];\n        // First loop inlines imports\n        styleSheets.forEach((sheet) => {\n            if ('cssRules' in sheet) {\n                try {\n                    toArray(sheet.cssRules).forEach((item, index) => {\n                        if (item.type === CSSRule.IMPORT_RULE) {\n                            let importIndex = index + 1;\n                            promises.push(fetchCSS(item.href, sheet)\n                                .then(embedFonts)\n                                .then((cssText) => {\n                                const parsed = parseCSS(cssText);\n                                parsed.forEach((rule) => {\n                                    try {\n                                        sheet.insertRule(rule, rule.startsWith('@import')\n                                            ? (importIndex = importIndex + 1)\n                                            : sheet.cssRules.length);\n                                    }\n                                    catch (error) {\n                                        console.log('Error inserting rule from remote css', {\n                                            rule,\n                                            error,\n                                        });\n                                    }\n                                });\n                            })\n                                .catch((e) => {\n                                console.log('Error loading remote css', e.toString());\n                            }));\n                        }\n                    });\n                }\n                catch (e) {\n                    const inline = styleSheets.find((a) => a.href === null) || document.styleSheets[0];\n                    if (sheet.href != null) {\n                        promises.push(fetchCSS(sheet.href, inline)\n                            .then(embedFonts)\n                            .then((cssText) => {\n                            const parsed = parseCSS(cssText);\n                            parsed.forEach((rule) => {\n                                inline.insertRule(rule, sheet.cssRules.length);\n                            });\n                        })\n                            .catch((e) => {\n                            console.log('Error loading remote stylesheet', e.toString());\n                        }));\n                    }\n                    console.log('Error inlining remote css file', e.toString());\n                }\n            }\n        });\n        return Promise.all(promises).then(() => {\n            // Second loop parses rules\n            styleSheets.forEach((sheet) => {\n                if ('cssRules' in sheet) {\n                    try {\n                        toArray(sheet.cssRules).forEach((item) => {\n                            ret.push(item);\n                        });\n                    }\n                    catch (e) {\n                        console.log(`Error while reading CSS rules from ${sheet.href}`, e.toString());\n                    }\n                }\n            });\n            return ret;\n        });\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n        .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')));\n}\nfunction parseCSS(source) {\n    if (source === undefined) {\n        return [];\n    }\n    let cssText = source;\n    const css = [];\n    const cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n    const combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n        '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; // to match css & media queries together\n    const cssCommentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n    const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi;\n    // strip out comments\n    cssText = cssText.replace(cssCommentsRegex, '');\n    const keyframesRegex = new RegExp(cssKeyframeRegex, 'gi');\n    let arr;\n    while (true) {\n        arr = keyframesRegex.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    // unified regex\n    const unified = new RegExp(combinedCSSRegex, 'gi');\n    while (true) {\n        arr = importRegex.exec(cssText);\n        if (arr === null) {\n            arr = unified.exec(cssText);\n            if (arr === null) {\n                break;\n            }\n            else {\n                importRegex.lastIndex = unified.lastIndex;\n            }\n        }\n        else {\n            unified.lastIndex = importRegex.lastIndex;\n        }\n        css.push(arr[0]);\n    }\n    return css;\n}\nfunction fetchCSS(url, sheet) {\n    if (cssFetchPromiseStore[url]) {\n        return cssFetchPromiseStore[url];\n    }\n    const promise = fetch(url).then((res) => {\n        return {\n            url,\n            cssText: res.text(),\n        };\n    }, (e) => {\n        console.log('ERROR FETCHING CSS: ', e.toString());\n    });\n    cssFetchPromiseStore[url] = promise;\n    return promise;\n}\nfunction embedFonts(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return data.cssText.then((resolved) => {\n            let cssText = resolved;\n            const regexUrlFind = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n            const fontLocations = cssText.match(/url\\([^)]+\\)/g) || [];\n            const fontLoadedPromises = fontLocations.map((location) => {\n                let url = location.replace(regexUrlFind, '$1');\n                if (!url.startsWith('https://')) {\n                    const source = data.url;\n                    url = new URL(url, source).href;\n                }\n                return new Promise((resolve, reject) => {\n                    fetch(url)\n                        .then((res) => res.blob())\n                        .then((blob) => {\n                        const reader = new FileReader();\n                        reader.addEventListener('load', (res) => {\n                            // Side Effect\n                            cssText = cssText.replace(location, `url(${reader.result})`);\n                            resolve([location, reader.result]);\n                        });\n                        reader.readAsDataURL(blob);\n                    })\n                        .catch(reject);\n                });\n            });\n            return Promise.all(fontLoadedPromises).then(() => cssText);\n        });\n    });\n}\n//# sourceMappingURL=embedWebFonts.js.map","import { svgToDataURL } from './util';\nexport function createSvgDataURL(clonedNode, width, height) {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS('', 'width', `${width}`);\n    svg.setAttributeNS('', 'height', `${height}`);\n    foreignObject.setAttributeNS('', 'width', '100%');\n    foreignObject.setAttributeNS('', 'height', '100%');\n    foreignObject.setAttributeNS('', 'x', '0');\n    foreignObject.setAttributeNS('', 'y', '0');\n    foreignObject.setAttributeNS('', 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(clonedNode);\n    return svgToDataURL(svg);\n}\n//# sourceMappingURL=createSvgDataURL.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { cloneNode } from './cloneNode';\nimport { embedImages } from './embedImages';\nimport { embedWebFonts, getWebFontCss } from './embedWebFonts';\nimport { createSvgDataURL } from './createSvgDataURL';\nimport { applyStyleWithOptions } from './applyStyleWithOptions';\nimport { delay, createImage, canvasToBlob, getNodeWidth, getNodeHeight, getPixelRatio, } from './util';\nfunction getImageSize(domNode, options = {}) {\n    const width = options.width || getNodeWidth(domNode);\n    const height = options.height || getNodeHeight(domNode);\n    return { width, height };\n}\nexport function toSvg(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { width, height } = getImageSize(domNode, options);\n        return cloneNode(domNode, options.filter, true)\n            .then((clonedNode) => embedWebFonts(clonedNode, options))\n            .then((clonedNode) => embedImages(clonedNode, options))\n            .then((clonedNode) => applyStyleWithOptions(clonedNode, options))\n            .then((clonedNode) => createSvgDataURL(clonedNode, width, height));\n    });\n}\nexport const toSvgDataURL = toSvg;\nexport function toCanvas(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return toSvg(domNode, options)\n            .then(createImage)\n            .then(delay(100))\n            .then((image) => {\n            const canvas = document.createElement('canvas');\n            const context = canvas.getContext('2d');\n            const ratio = options.pixelRatio || getPixelRatio();\n            const { width, height } = getImageSize(domNode, options);\n            const canvasWidth = options.canvasWidth || width;\n            const canvasHeight = options.canvasHeight || height;\n            canvas.width = canvasWidth * ratio;\n            canvas.height = canvasHeight * ratio;\n            canvas.style.width = `${canvasWidth}`;\n            canvas.style.height = `${canvasHeight}`;\n            if (options.backgroundColor) {\n                context.fillStyle = options.backgroundColor;\n                context.fillRect(0, 0, canvas.width, canvas.height);\n            }\n            context.drawImage(image, 0, 0, canvas.width, canvas.height);\n            return canvas;\n        });\n    });\n}\nexport function toPixelData(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { width, height } = getImageSize(domNode, options);\n        return toCanvas(domNode, options).then((canvas) => {\n            const ctx = canvas.getContext('2d');\n            return ctx.getImageData(0, 0, width, height).data;\n        });\n    });\n}\nexport function toPng(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return toCanvas(domNode, options).then((canvas) => canvas.toDataURL());\n    });\n}\nexport function toJpeg(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return toCanvas(domNode, options).then((canvas) => canvas.toDataURL('image/jpeg', options.quality || 1));\n    });\n}\nexport function toBlob(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return toCanvas(domNode, options).then(canvasToBlob);\n    });\n}\nexport function getWebFontEmbedCss(domNode, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return getWebFontCss(domNode, options);\n    });\n}\n//# sourceMappingURL=index.js.map","export function applyStyleWithOptions(clonedNode, options) {\n    const { style } = clonedNode;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = `${options.width}px`;\n    }\n    if (options.height) {\n        style.height = `${options.height}px`;\n    }\n    const manual = options.style;\n    if (manual != null) {\n        Object.keys(manual).forEach((key) => {\n            // @ts-expect-error\n            style[key] = manual[key];\n        });\n    }\n    return clonedNode;\n}\n//# sourceMappingURL=applyStyleWithOptions.js.map","import * as htmlToImage from \"html-to-image\";\n\nexport const saveImage = (selector, buttonClass) => {\n  const node = document.querySelector(selector);\n  const button = document.querySelector(buttonClass);\n\n  button.addEventListener(\"click\", () => {\n    htmlToImage.toJpeg(node, { quality: 0.95 }).then((dataUrl) => {\n      const link = document.createElement(\"a\");\n      link.download = \"disciples-2.jpeg\";\n      link.href = dataUrl;\n      link.click();\n    });\n  });\n};\n\nexport default saveImage;\n","// require(\"ninelines-ua-parser\");\nimport \"lazysizes\";\nimport \"file-saver\";\n\nimport tabs from \"./modules/tabs\";\nimport toggleByDataAttr from \"./modules/toggleByDataAttr\";\nimport saveImage from \"./modules/image-saver\";\n\nconst townNode = document.querySelector(\".town\");\nconst savePictureButton = document.querySelector(\".btn--save\");\nconst townData = [\n  {\n    town: \".empire\",\n    saveImage: \".btn--save-empire\",\n  },\n  {\n    town: \".undead\",\n    saveImage: \".btn--save-undead\",\n  },\n  {\n    town: \".clans\",\n    saveImage: \".btn--save-clans\",\n  },\n  {\n    town: \".legions\",\n    saveImage: \".btn--save-legions\",\n  },\n  {\n    town: \".elves\",\n    saveImage: \".btn--save-elves\",\n  },\n];\n\nwindow.addEventListener(\n  \"load\",\n  () => {\n    tabs();\n    toggleByDataAttr();\n\n    if (townNode && savePictureButton) {\n      townData.forEach((item) => saveImage(item.town, item.saveImage));\n    }\n  },\n  false,\n);\n"],"sourceRoot":""}